var _csa;!function(){if(!_csa||!_csa.requirejs){_csa?e=_csa:_csa={};var t,e,n;!function(r){function i(t,e){return w.call(t,e)}function a(t,e){var n,r,i,a,o,s,u,c,l,f,p,d,h=e&&e.split("/"),y=m.map,v=y&&y["*"]||{};if(t){for(t=t.split("/"),o=t.length-1,m.nodeIdCompat&&T.test(t[o])&&(t[o]=t[o].replace(T,"")),"."===t[0].charAt(0)&&h&&(d=h.slice(0,h.length-1),t=d.concat(t)),l=0;l<t.length;l++)if(p=t[l],"."===p)t.splice(l,1),l-=1;else if(".."===p){if(0===l||1===l&&".."===t[2]||".."===t[l-1])continue;l>0&&(t.splice(l-1,2),l-=2)}t=t.join("/")}if((h||v)&&y){for(n=t.split("/"),l=n.length;l>0;l-=1){if(r=n.slice(0,l).join("/"),h)for(f=h.length;f>0;f-=1)if(i=y[h.slice(0,f).join("/")],i&&(i=i[r])){a=i,s=l;break}if(a)break;!u&&v&&v[r]&&(u=v[r],c=l)}!a&&u&&(a=u,s=c),a&&(n.splice(0,s,a),t=n.join("/"))}return t}function o(t,e){return function(){var n=x.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),d.apply(r,n.concat([t,e]))}}function s(t){return function(e){return a(e,t)}}function u(t){return function(e){v[t]=e}}function c(t){if(i(g,t)){var e=g[t];delete g[t],b[t]=!0,p.apply(r,e)}if(!i(v,t)&&!i(b,t))throw new Error("No "+t);return v[t]}function l(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function f(t){return function(){return m&&m.config&&m.config[t]||{}}}var p,d,h,y,v={},g={},m={},b={},w=Object.prototype.hasOwnProperty,x=[].slice,T=/\.js$/;h=function(t,e){var n,r=l(t),i=r[0];return t=r[1],i&&(i=a(i,e),n=c(i)),i?t=n&&n.normalize?n.normalize(t,s(e)):a(t,e):(t=a(t,e),r=l(t),i=r[0],t=r[1],i&&(n=c(i))),{f:i?i+"!"+t:t,n:t,pr:i,p:n}},y={require:function(t){return o(t)},exports:function(t){var e=v[t];return"undefined"!=typeof e?e:v[t]={}},module:function(t){return{id:t,uri:"",exports:v[t],config:f(t)}}},p=function(t,e,n,a){var s,l,f,p,d,m,w=[],x=typeof n;if(a=a||t,"undefined"===x||"function"===x){for(e=!e.length&&n.length?["require","exports","module"]:e,d=0;d<e.length;d+=1)if(p=h(e[d],a),l=p.f,"require"===l)w[d]=y.require(t);else if("exports"===l)w[d]=y.exports(t),m=!0;else if("module"===l)s=w[d]=y.module(t);else if(i(v,l)||i(g,l)||i(b,l))w[d]=c(l);else{if(!p.p)throw new Error(t+" missing "+l);p.p.load(p.n,o(a,!0),u(l),{}),w[d]=v[l]}f=n?n.apply(v[t],w):void 0,t&&(s&&s.exports!==r&&s.exports!==v[t]?v[t]=s.exports:f===r&&m||(v[t]=f))}else t&&(v[t]=n)},t=e=d=function(t,e,n,i,a){if("string"==typeof t)return y[t]?y[t](e):c(h(t,e).f);if(!t.splice){if(m=t,m.deps&&d(m.deps,m.callback),!e)return;e.splice?(t=e,e=n,n=null):t=r}return e=e||function(){},"function"==typeof n&&(n=i,i=a),i?p(r,t,e,n):setTimeout(function(){p(r,t,e,n)},4),d},d.config=function(t){return d(t)},t._defined=v,n=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),i(v,t)||i(g,t)||(g[t]=[t,e,n])},n.amd={jQuery:!0}}(),_csa.requirejs=t,_csa.require=e,_csa.define=n}}(),_csa.define("../../node_modules/almond/almond",function(){}),_csa.define("config",["require","exports"],function(t,e){"use strict";var n={hasAjax:window.XMLHttpRequest||window.ActiveXObject,apiUrl:window.cs?window.cs.apiUrl:"",pageViewTracked:!1,skoutjs:"/skout.js",urls:{survey:{ajax:"/survey",gif:"/survey.gif"},quiz:{ajax:"/quiz",gif:"/quiz.gif"},form:{ajax:"/form",gif:"/form.gif"},socialMedia:{ajax:"/social-media",gif:"/social-media.gif"},pageView:{ajax:"/page-view",gif:"/page-view.gif"},"video-play":{ajax:"/video-play",gif:"/video-play.gif"},"third-party-form":{ajax:"/third-party-form",gif:"/third-party-form.gif"},submission:{ajax:"/submission",gif:"/submission.gif"}},form:{version:"v1-1"},quiz:{version:"v1-1"},survey:{version:"v1-1"},socialMedia:{version:"v1-1"},pageView:{version:"v1-1"},"video-play":{version:"v1-2"},"third-party-form":{version:"v1-1"},submission:{version:"v1-1"}};return n}),_csa.define("lib/utils/helpers",["require","exports"],function(t,e){"use strict";function n(){for(var t="",e=1;36>=e;e++)t+=9===e||14===e||19===e||24===e?"-":15===e?4:20===e?o[4*Math.random()|8]:o[15*Math.random()|0];return t}function r(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function i(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)"),n=e.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function a(t){var e=document.createElement("a");return e.href=t,e.hostname+(e.port?":"+e.port:"")}e.uuid=n;for(var o=[],s=0;15>=s;s++)o[s]=s.toString(16);e.extend=r,e.getParam=i,e.getHostName=a}),function(){function t(t){this.message=t}var e="undefined"!=typeof this.exports?this.exports:self,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.prototype=new Error,t.prototype.name="InvalidCharacterError",e.btoa||(e.btoa=function(e){for(var r,i,a=String(e),o=0,s=n,u="";a.charAt(0|o)||(s="=",o%1);u+=s.charAt(63&r>>8-o%1*8)){if(i=a.charCodeAt(o+=.75),i>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|i}return u}),e.atob||(e.atob=function(e){var r=String(e).replace(/=+$/,"");if(r.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,a,o=0,s=0,u="";a=r.charAt(s++);~a&&(i=o%4?64*i+a:a,o++%4)?u+=String.fromCharCode(255&i>>(-2*o&6)):0)a=n.indexOf(a);return u})}(),_csa.define("lib/polyfill/btoa",function(){}),_csa.define("lib/http/requests/GifRequest",["require","exports","../../../config","../../utils/helpers","../../polyfill/btoa"],function(t,e,n,r){"use strict";var i=function(){function t(t){this.type=t}return t.prototype.send=function(e,i){t.request(n.apiUrl+"/"+n[this.type].version+n.urls[this.type].gif,r.extend(e,i),this.callback)},t.prototype.onResponse=function(t){this.callback=t},t.request=function(e,n,r){var i=document.createElement("img");i.src=e+t.objectToQueryString(n),i.onload=function(){r&&r(null,{success:!0,data:n})},i.onerror=function(t){r&&r(t)}},t.objectToQueryString=function(t){var e=btoa(JSON.stringify(t)).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"");return"?b="+e},t}();return i}),_csa.define("lib/http/requests/AjaxRequest",["require","exports","../../../config","../../utils/helpers"],function(t,e,n,r){"use strict";var i=function(){function t(t){this.type=t}return t.prototype.send=function(e,i){t.request("POST",n.apiUrl+"/"+n[this.type].version+n.urls[this.type].ajax,r.extend(e,i),this.callback,!0)},t.prototype.onResponse=function(t){this.callback=t},t.request=function(t,e,n,r,i){var a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");a.open(t,e,!0),i&&a.setRequestHeader("Content-Type","application/json"),a.onerror=r,a.onreadystatechange=function(){4==a.readyState&&200==a.status?r&&r(null,JSON.parse(a.responseText)):4!=a.readyState||400!=a.status&&500!=a.status||r&&r(new Event("error"),JSON.parse(a.responseText))},a.send(JSON.stringify(n))},t.jsonp=function(t,e){var n=document.createElement("script");n.src=t+"?callback="+e,document.getElementsByTagName("head")[0].appendChild(n)},t}();return i}),_csa.define("lib/http/Request",["require","exports","../../config","./requests/GifRequest","./requests/AjaxRequest"],function(t,e,n,r,i){"use strict";var a=function(){function t(t){this.type=t,this.request=n.hasAjax?new i(t):new r(t)}return t.prototype.send=function(t,e){try{this.request.send(t,e)}catch(n){var i=new r(this.type);i.onResponse(this.request.callback),i.send(t,e)}},t.prototype.onResponse=function(t){this.request.onResponse(t)},t}();return a}),_csa.define("lib/http/session/Session",["require","exports"],function(t,e){"use strict";var n=function(){function t(){}return t.hasSession=function(){return null!==sessionStorage.getItem(t.key)},t.setPageViewUUID=function(e){sessionStorage.setItem(t.key,e)},t.getPageViewUUID=function(){return sessionStorage.getItem(t.key)},t.clearSession=function(){sessionStorage.removeItem(t.key)},t.key="__csSession",t}();return n}),_csa.define("lib/http/Payload",["require","exports","./session/Session","../utils/helpers"],function(t,e,n,r){"use strict";var i=function(){function t(e,i){void 0===i&&(i={});var a=i.uuidKey;if(i.partial||i.uuidKey?(t.uuids[i.uuidKey]=t.uuids[i.uuidKey]||r.uuid(),this.uuid=t.uuids[i.uuidKey],delete i.uuidKey,i.partial||delete t.uuids[i.uuidKey]):this.uuid=r.uuid(),i.finished&&(t.uuids[a]=null,t.videoPlayUUID=this.uuid),"pageView"===e){t.pageViewUUID=this.uuid;var o=r.getParam("cs-from");this.from=o,n.hasSession()&&!o&&(this.from=n.getPageViewUUID()),n.setPageViewUUID(this.uuid)}else"video-play"!==e||i.finished?this.from=r.getParam("cs-from")||t.pageViewUUID:this.from=t.videoPlayUUID||t.pageViewUUID;r.extend(this,i)}return t.uuids=[],t}();return i}),_csa.define("lib/http/Client",["require","exports","../utils/helpers"],function(t,e,n){"use strict";var r=function(){function t(t){void 0===t&&(t={}),this.organizationId=window.organizationId,this.sourceId=window.sourceId,this.clientId=window.clientId,this.csId=window.csid,this.url=window.location.href.replace(" ","%20"),this.useragent=navigator.userAgent,this.referer=document.referrer||"",this.title=document.title,n.getParam("emailId")&&(this.emailId=n.getParam("emailId")),n.extend(this,t)}return t}();return r}),_csa.define("lib/api/main",["require","exports","../http/Request","../http/Payload","../http/Client","../../config","../utils/helpers"],function(t,e,n,r,i,a,o){"use strict";function s(t,e,o,u){if("set"===t)return s.set(e,o,u);if("pageView"===t&&a.pageViewTracked)return!1;a.pageViewTracked=!0;var c=new n(t);c.onResponse(o),c.send(new i,new r(t,e))}e.handler=s,s.set=function(t,e,n){void 0===e&&(e={}),a[t]=a[t]||{};var r=o.extend(a[t],e);return n&&n(),r}}),_csa.define("lib/api/attributes/listen",["require","exports"],function(t,e){"use strict";function n(t,e){var n=document.addEventListener?"addEventListener":"attachEvent";document[n]("click",function(n){var r=n.target.getAttribute(t);null!==r&&e(r,n)})}return n}),_csa.define("lib/api/attributes/cs-like",["require","exports","./listen","../main"],function(t,e,n,r){"use strict";function i(t,e){r.handler("socialMedia",{service:"Facebook",engages:t,type:"engage"})}function a(){n("cs-like",i)}return a}),_csa.define("lib/api/attributes/cs-share",["require","exports","./listen","../main"],function(t,e,n,r){"use strict";function i(t,e){r.handler("socialMedia",{service:"Facebook",url:t,type:"share"})}function a(){n("cs-share",i)}return a}),_csa.define("lib/api/attributes/cs-tweet",["require","exports","./listen","../main"],function(t,e,n,r){"use strict";function i(t,e){r.handler("socialMedia",{service:"Twitter",url:t,type:"share"})}function a(){n("cs-tweet",i)}return a}),_csa.define("lib/api/attributes/cs-follow",["require","exports","./listen","../main"],function(t,e,n,r){"use strict";function i(t,e){r.handler("socialMedia",{service:"Twitter",engages:t,type:"engage"})}function a(){n("cs-follow",i)}return a}),_csa.define("lib/api/Attributes",["require","exports","./attributes/cs-like","./attributes/cs-share","./attributes/cs-tweet","./attributes/cs-follow"],function(t,e,n,r,i,a){"use strict";var o=function(){function t(){}return t.addListeners=function(){n(),r(),i(),a()},t}();return o}),_csa.define("lib/api/videos/base/BaseVideo",["require","exports","../../main"],function(t,e,n){"use strict";var r=function(){function t(){}return t.prototype.data=function(){throw new Error("Each subclass should implement it's own data method")},t.prototype.trackPlay=function(){throw new Error("Each BaseVideo subclass should implement its own trackPlay() method")},t.prototype.startInterval=function(){var e=this;this.intervalId=setInterval(function(){e.trackPlay()},t.trackingInterval)},t.prototype.stopInterval=function(){clearInterval(this.intervalId)},t.prototype.trackFinish=function(){this.stopInterval();var t=this.data();return t.finished=!0,delete t.partial,n.handler("video-play",t),this},t.trackingInterval=3e4,t}();return r}),_csa.define("lib/utils/duration",["require","exports"],function(t,e){"use strict";function n(t){return void 0===t&&(t=0),Math.round(t)}e.duration=n}),function(t,e){"use strict";"function"==typeof _csa.define&&_csa.define.amd?_csa.define("es5-shim",e):"object"==typeof exports?module.exports=e():t.returnExports=e()}(this,function(){var t,e,n=Array,r=n.prototype,i=Object,a=i.prototype,o=Function,s=o.prototype,u=String,c=u.prototype,l=Number,f=l.prototype,p=r.slice,d=r.splice,h=r.push,y=r.unshift,v=r.concat,g=r.join,m=s.call,b=s.apply,w=Math.max,x=Math.min,T=a.toString,E="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,D=Function.prototype.toString,S=/^\s*class /,I=function(t){try{var e=D.call(t),n=e.replace(/\/\/.*\n/g,""),r=n.replace(/\/\*[.\s\S]*\*\//g,""),i=r.replace(/\n/gm," ").replace(/ {2}/g," ");return S.test(i)}catch(a){return!1}},_=function(t){try{return I(t)?!1:(D.call(t),!0)}catch(e){return!1}},O="[object Function]",j="[object GeneratorFunction]",t=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(E)return _(t);if(I(t))return!1;var e=T.call(t);return e===O||e===j},k=RegExp.prototype.exec,P=function(t){try{return k.call(t),!0}catch(e){return!1}},q="[object RegExp]";e=function(t){return"object"!=typeof t?!1:E?P(t):T.call(t)===q};var M,N=String.prototype.valueOf,U=function(t){try{return N.call(t),!0}catch(e){return!1}},A="[object String]";M=function(t){return"string"==typeof t?!0:"object"!=typeof t?!1:E?U(t):T.call(t)===A};var R=i.defineProperty&&function(){try{var t={};i.defineProperty(t,"x",{enumerable:!1,value:t});for(var e in t)return!1;return t.x===t}catch(n){return!1}}(),V=function(t){var e;return e=R?function(t,e,n,r){!r&&e in t||i.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(t,e,n,r){!r&&e in t||(t[e]=n)},function(n,r,i){for(var a in r)t.call(r,a)&&e(n,a,r[a],i)}}(a.hasOwnProperty),F=function(t){var e=typeof t;return null===t||"object"!==e&&"function"!==e},C=l.isNaN||function(t){return t!==t},L={ToInteger:function(t){var e=+t;return C(e)?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e},ToPrimitive:function(e){var n,r,i;if(F(e))return e;if(r=e.valueOf,t(r)&&(n=r.call(e),F(n)))return n;if(i=e.toString,t(i)&&(n=i.call(e),F(n)))return n;throw new TypeError},ToObject:function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return i(t)},ToUint32:function(t){return t>>>0}},Y=function(){};V(s,{bind:function(e){var n=this;if(!t(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var r,a=p.call(arguments,1),s=function(){if(this instanceof r){var t=b.call(n,this,v.call(a,p.call(arguments)));return i(t)===t?t:this}return b.call(n,e,v.call(a,p.call(arguments)))},u=w(0,n.length-a.length),c=[],l=0;u>l;l++)h.call(c,"$"+l);return r=o("binder","return function ("+g.call(c,",")+"){ return binder.apply(this, arguments); }")(s),n.prototype&&(Y.prototype=n.prototype,r.prototype=new Y,Y.prototype=null),r}});var J=m.bind(a.hasOwnProperty),z=m.bind(a.toString),$=m.bind(p),B=b.bind(p),H=m.bind(c.slice),W=m.bind(c.split),G=m.bind(c.indexOf),K=m.bind(h),Z=m.bind(a.propertyIsEnumerable),X=m.bind(r.sort),Q=n.isArray||function(t){return"[object Array]"===z(t)},tt=1!==[].unshift(0);V(r,{unshift:function(){return y.apply(this,arguments),this.length}},tt),V(n,{isArray:Q});var et=i("a"),nt="a"!==et[0]||!(0 in et),rt=function(t){var e=!0,n=!0,r=!1;if(t)try{t.call("foo",function(t,n,r){"object"!=typeof r&&(e=!1)}),t.call([1],function(){"use strict";n="string"==typeof this},"x")}catch(i){r=!0}return!!t&&!r&&e&&n};V(r,{forEach:function(e){var n,r=L.ToObject(this),i=nt&&M(this)?W(this,""):r,a=-1,o=L.ToUint32(i.length);if(arguments.length>1&&(n=arguments[1]),!t(e))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++a<o;)a in i&&("undefined"==typeof n?e(i[a],a,r):e.call(n,i[a],a,r))}},!rt(r.forEach)),V(r,{map:function(e){var r,i=L.ToObject(this),a=nt&&M(this)?W(this,""):i,o=L.ToUint32(a.length),s=n(o);if(arguments.length>1&&(r=arguments[1]),!t(e))throw new TypeError("Array.prototype.map callback must be a function");for(var u=0;o>u;u++)u in a&&("undefined"==typeof r?s[u]=e(a[u],u,i):s[u]=e.call(r,a[u],u,i));return s}},!rt(r.map)),V(r,{filter:function(e){var n,r,i=L.ToObject(this),a=nt&&M(this)?W(this,""):i,o=L.ToUint32(a.length),s=[];if(arguments.length>1&&(r=arguments[1]),!t(e))throw new TypeError("Array.prototype.filter callback must be a function");for(var u=0;o>u;u++)u in a&&(n=a[u],("undefined"==typeof r?e(n,u,i):e.call(r,n,u,i))&&K(s,n));return s}},!rt(r.filter)),V(r,{every:function(e){var n,r=L.ToObject(this),i=nt&&M(this)?W(this,""):r,a=L.ToUint32(i.length);if(arguments.length>1&&(n=arguments[1]),!t(e))throw new TypeError("Array.prototype.every callback must be a function");for(var o=0;a>o;o++)if(o in i&&!("undefined"==typeof n?e(i[o],o,r):e.call(n,i[o],o,r)))return!1;return!0}},!rt(r.every)),V(r,{some:function(e){var n,r=L.ToObject(this),i=nt&&M(this)?W(this,""):r,a=L.ToUint32(i.length);if(arguments.length>1&&(n=arguments[1]),!t(e))throw new TypeError("Array.prototype.some callback must be a function");for(var o=0;a>o;o++)if(o in i&&("undefined"==typeof n?e(i[o],o,r):e.call(n,i[o],o,r)))return!0;return!1}},!rt(r.some));var it=!1;r.reduce&&(it="object"==typeof r.reduce.call("es5",function(t,e,n,r){return r})),V(r,{reduce:function(e){var n=L.ToObject(this),r=nt&&M(this)?W(this,""):n,i=L.ToUint32(r.length);if(!t(e))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===i&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var a,o=0;if(arguments.length>=2)a=arguments[1];else for(;;){if(o in r){a=r[o++];break}if(++o>=i)throw new TypeError("reduce of empty array with no initial value")}for(;i>o;o++)o in r&&(a=e(a,r[o],o,n));return a}},!it);var at=!1;r.reduceRight&&(at="object"==typeof r.reduceRight.call("es5",function(t,e,n,r){return r})),V(r,{reduceRight:function(e){var n=L.ToObject(this),r=nt&&M(this)?W(this,""):n,i=L.ToUint32(r.length);if(!t(e))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===i&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var a,o=i-1;if(arguments.length>=2)a=arguments[1];else for(;;){if(o in r){a=r[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}if(0>o)return a;do o in r&&(a=e(a,r[o],o,n));while(o--);return a}},!at);var ot=r.indexOf&&-1!==[0,1].indexOf(1,2);V(r,{indexOf:function(t){var e=nt&&M(this)?W(this,""):L.ToObject(this),n=L.ToUint32(e.length);if(0===n)return-1;var r=0;for(arguments.length>1&&(r=L.ToInteger(arguments[1])),r=r>=0?r:w(0,n+r);n>r;r++)if(r in e&&e[r]===t)return r;return-1}},ot);var st=r.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);V(r,{lastIndexOf:function(t){var e=nt&&M(this)?W(this,""):L.ToObject(this),n=L.ToUint32(e.length);if(0===n)return-1;var r=n-1;for(arguments.length>1&&(r=x(r,L.ToInteger(arguments[1]))),r=r>=0?r:n-Math.abs(r);r>=0;r--)if(r in e&&t===e[r])return r;return-1}},st);var ut=function(){var t=[1,2],e=t.splice();return 2===t.length&&Q(e)&&0===e.length}();V(r,{splice:function(t,e){return 0===arguments.length?[]:d.apply(this,arguments)}},!ut);var ct=function(){var t={};return r.splice.call(t,0,0,1),1===t.length}();V(r,{splice:function(t,e){if(0===arguments.length)return[];var n=arguments;return this.length=w(L.ToInteger(this.length),0),arguments.length>0&&"number"!=typeof e&&(n=$(arguments),n.length<2?K(n,this.length-t):n[1]=L.ToInteger(e)),d.apply(this,n)}},!ct);var lt=function(){var t=new n(1e5);return t[8]="x",t.splice(1,1),7===t.indexOf("x")}(),ft=function(){var t=256,e=[];return e[t]="a",e.splice(t+1,0,"b"),"a"===e[t]}();V(r,{splice:function(t,e){for(var n,r=L.ToObject(this),i=[],a=L.ToUint32(r.length),o=L.ToInteger(t),s=0>o?w(a+o,0):x(o,a),c=x(w(L.ToInteger(e),0),a-s),l=0;c>l;)n=u(s+l),J(r,n)&&(i[l]=r[n]),l+=1;var f,p=$(arguments,2),d=p.length;if(c>d){l=s;for(var h=a-c;h>l;)n=u(l+c),f=u(l+d),J(r,n)?r[f]=r[n]:delete r[f],l+=1;l=a;for(var y=a-c+d;l>y;)delete r[l-1],l-=1}else if(d>c)for(l=a-c;l>s;)n=u(l+c-1),f=u(l+d-1),J(r,n)?r[f]=r[n]:delete r[f],l-=1;l=s;for(var v=0;v<p.length;++v)r[l]=p[v],l+=1;return r.length=a-c+d,i}},!lt||!ft);var pt,dt=r.join;try{pt="1,2,3"!==Array.prototype.join.call("123",",")}catch(ht){pt=!0}pt&&V(r,{join:function(t){var e="undefined"==typeof t?",":t;return dt.call(M(this)?W(this,""):this,e)}},pt);var yt="1,2"!==[1,2].join(void 0);yt&&V(r,{join:function(t){var e="undefined"==typeof t?",":t;return dt.call(this,e)}},yt);var vt=function(t){for(var e=L.ToObject(this),n=L.ToUint32(e.length),r=0;r<arguments.length;)e[n+r]=arguments[r],r+=1;return e.length=n+r,n+r},gt=function(){var t={},e=Array.prototype.push.call(t,void 0);return 1!==e||1!==t.length||"undefined"!=typeof t[0]||!J(t,0)}();V(r,{push:function(t){return Q(this)?h.apply(this,arguments):vt.apply(this,arguments)}},gt);var mt=function(){var t=[],e=t.push(void 0);return 1!==e||1!==t.length||"undefined"!=typeof t[0]||!J(t,0)}();V(r,{push:vt},mt),V(r,{slice:function(t,e){var n=M(this)?W(this,""):this;return B(n,arguments)}},nt);var bt=function(){try{return[1,2].sort(null),[1,2].sort({}),!0}catch(t){}return!1}(),wt=function(){try{return[1,2].sort(/a/),!1}catch(t){}return!0}(),xt=function(){try{return[1,2].sort(void 0),!0}catch(t){}return!1}();V(r,{sort:function(e){if("undefined"==typeof e)return X(this);if(!t(e))throw new TypeError("Array.prototype.sort callback must be a function");return X(this,e)}},bt||!xt||!wt);var Tt=!{toString:null}.propertyIsEnumerable("toString"),Et=function(){}.propertyIsEnumerable("prototype"),Dt=!J("x","0"),St=function(t){var e=t.constructor;return e&&e.prototype===t},It={$window:!0,$console:!0,$parent:!0,$self:!0,$frame:!0,$frames:!0,$frameElement:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$external:!0},_t=function(){if("undefined"==typeof window)return!1;for(var t in window)try{!It["$"+t]&&J(window,t)&&null!==window[t]&&"object"==typeof window[t]&&St(window[t])}catch(e){return!0}return!1}(),Ot=function(t){if("undefined"==typeof window||!_t)return St(t);try{return St(t)}catch(e){return!1}},jt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],kt=jt.length,Pt=function(t){return"[object Arguments]"===z(t)},qt=function(e){return null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&!Q(e)&&t(e.callee)},Mt=Pt(arguments)?Pt:qt;V(i,{keys:function(e){var n=t(e),r=Mt(e),i=null!==e&&"object"==typeof e,a=i&&M(e);if(!i&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var o=[],s=Et&&n;if(a&&Dt||r)for(var c=0;c<e.length;++c)K(o,u(c));if(!r)for(var l in e)s&&"prototype"===l||!J(e,l)||K(o,u(l));if(Tt)for(var f=Ot(e),p=0;kt>p;p++){var d=jt[p];f&&"constructor"===d||!J(e,d)||K(o,d)}return o}});var Nt=i.keys&&function(){return 2===i.keys(arguments).length}(1,2),Ut=i.keys&&function(){var t=i.keys(arguments);return 1!==arguments.length||1!==t.length||1!==t[0]}(1),At=i.keys;V(i,{keys:function(t){return At(Mt(t)?$(t):t)}},!Nt||Ut);var Rt,Vt,Ft=0!==new Date(-0xc782b5b342b24).getUTCMonth(),Ct=new Date(-0x55d318d56a724),Lt=new Date(14496624e5),Yt="Mon, 01 Jan -45875 11:59:59 GMT"!==Ct.toUTCString(),Jt=Ct.getTimezoneOffset();-720>Jt?(Rt="Tue Jan 02 -45875"!==Ct.toDateString(),Vt=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(Lt.toString())):(Rt="Mon Jan 01 -45875"!==Ct.toDateString(),Vt=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(Lt.toString()));var zt=m.bind(Date.prototype.getFullYear),$t=m.bind(Date.prototype.getMonth),Bt=m.bind(Date.prototype.getDate),Ht=m.bind(Date.prototype.getUTCFullYear),Wt=m.bind(Date.prototype.getUTCMonth),Gt=m.bind(Date.prototype.getUTCDate),Kt=m.bind(Date.prototype.getUTCDay),Zt=m.bind(Date.prototype.getUTCHours),Xt=m.bind(Date.prototype.getUTCMinutes),Qt=m.bind(Date.prototype.getUTCSeconds),te=m.bind(Date.prototype.getUTCMilliseconds),ee=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ne=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],re=function(t,e){return Bt(new Date(e,t,0))};V(Date.prototype,{getFullYear:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=zt(this);return 0>t&&$t(this)>11?t+1:t},getMonth:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=zt(this),e=$t(this);return 0>t&&e>11?0:e},getDate:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=zt(this),e=$t(this),n=Bt(this);if(0>t&&e>11){if(12===e)return n;var r=re(0,t+1);return r-n+1}return n},getUTCFullYear:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=Ht(this);return 0>t&&Wt(this)>11?t+1:t},getUTCMonth:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=Ht(this),e=Wt(this);return 0>t&&e>11?0:e},getUTCDate:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=Ht(this),e=Wt(this),n=Gt(this);if(0>t&&e>11){if(12===e)return n;var r=re(0,t+1);return r-n+1}return n}},Ft),V(Date.prototype,{toUTCString:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=Kt(this),e=Gt(this),n=Wt(this),r=Ht(this),i=Zt(this),a=Xt(this),o=Qt(this);return ee[t]+", "+(10>e?"0"+e:e)+" "+ne[n]+" "+r+" "+(10>i?"0"+i:i)+":"+(10>a?"0"+a:a)+":"+(10>o?"0"+o:o)+" GMT"}},Ft||Yt),V(Date.prototype,{toDateString:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=this.getDay(),e=this.getDate(),n=this.getMonth(),r=this.getFullYear();return ee[t]+" "+ne[n]+" "+(10>e?"0"+e:e)+" "+r}},Ft||Rt),(Ft||Vt)&&(Date.prototype.toString=function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=this.getDay(),e=this.getDate(),n=this.getMonth(),r=this.getFullYear(),i=this.getHours(),a=this.getMinutes(),o=this.getSeconds(),s=this.getTimezoneOffset(),u=Math.floor(Math.abs(s)/60),c=Math.floor(Math.abs(s)%60);return ee[t]+" "+ne[n]+" "+(10>e?"0"+e:e)+" "+r+" "+(10>i?"0"+i:i)+":"+(10>a?"0"+a:a)+":"+(10>o?"0"+o:o)+" GMT"+(s>0?"-":"+")+(10>u?"0"+u:u)+(10>c?"0"+c:c)},R&&i.defineProperty(Date.prototype,"toString",{configurable:!0,enumerable:!1,writable:!0}));var ie=-621987552e5,ae="-000001",oe=Date.prototype.toISOString&&-1===new Date(ie).toISOString().indexOf(ae),se=Date.prototype.toISOString&&"1969-12-31T23:59:59.999Z"!==new Date(-1).toISOString(),ue=m.bind(Date.prototype.getTime);V(Date.prototype,{toISOString:function(){if(!isFinite(this)||!isFinite(ue(this)))throw new RangeError("Date.prototype.toISOString called on non-finite value.");var t=Ht(this),e=Wt(this);t+=Math.floor(e/12),e=(e%12+12)%12;var n=[e+1,Gt(this),Zt(this),Xt(this),Qt(this)];t=(0>t?"-":t>9999?"+":"")+H("00000"+Math.abs(t),t>=0&&9999>=t?-4:-6);for(var r=0;r<n.length;++r)n[r]=H("00"+n[r],-2);return t+"-"+$(n,0,2).join("-")+"T"+$(n,2).join(":")+"."+H("000"+te(this),-3)+"Z"}},oe||se);var ce=function(){try{return Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&-1!==new Date(ie).toJSON().indexOf(ae)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(t){return!1}}();ce||(Date.prototype.toJSON=function(e){var n=i(this),r=L.ToPrimitive(n);if("number"==typeof r&&!isFinite(r))return null;var a=n.toISOString;if(!t(a))throw new TypeError("toISOString property is not callable");return a.call(n)});var le=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),fe=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z")),pe=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));if(pe||fe||!le){var de=Math.pow(2,31)-1,he=C(new Date(1970,0,1,0,0,0,de+1).getTime());Date=function(t){var e=function(n,r,i,a,o,s,c){var l,f=arguments.length;if(this instanceof t){var p=s,d=c;if(he&&f>=7&&c>de){var h=Math.floor(c/de)*de,y=Math.floor(h/1e3);p+=y,d-=1e3*y}l=1===f&&u(n)===n?new t(e.parse(n)):f>=7?new t(n,r,i,a,o,p,d):f>=6?new t(n,r,i,a,o,p):f>=5?new t(n,r,i,a,o):f>=4?new t(n,r,i,a):f>=3?new t(n,r,i):f>=2?new t(n,r):f>=1?new t(n instanceof t?+n:n):new t}else l=t.apply(this,arguments);return F(l)||V(l,{constructor:e},!0),l},n=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),r=[0,31,59,90,120,151,181,212,243,273,304,334,365],i=function(t,e){var n=e>1?1:0;return r[e]+Math.floor((t-1969+n)/4)-Math.floor((t-1901+n)/100)+Math.floor((t-1601+n)/400)+365*(t-1970)},a=function(e){var n=0,r=e;if(he&&r>de){var i=Math.floor(r/de)*de,a=Math.floor(i/1e3);n+=a,r-=1e3*a}return l(new t(1970,0,1,0,0,n,r))};for(var o in t)J(t,o)&&(e[o]=t[o]);V(e,{now:t.now,UTC:t.UTC},!0),e.prototype=t.prototype,V(e.prototype,{constructor:e},!0);var s=function(e){var r=n.exec(e);if(r){var o,s=l(r[1]),u=l(r[2]||1)-1,c=l(r[3]||1)-1,f=l(r[4]||0),p=l(r[5]||0),d=l(r[6]||0),h=Math.floor(1e3*l(r[7]||0)),y=Boolean(r[4]&&!r[8]),v="-"===r[9]?1:-1,g=l(r[10]||0),m=l(r[11]||0),b=p>0||d>0||h>0;return(b?24:25)>f&&60>p&&60>d&&1e3>h&&u>-1&&12>u&&24>g&&60>m&&c>-1&&c<i(s,u+1)-i(s,u)&&(o=60*(24*(i(s,u)+c)+f+g*v),o=1e3*(60*(o+p+m*v)+d)+h,y&&(o=a(o)),o>=-864e13&&864e13>=o)?o:NaN}return t.parse.apply(this,arguments)};return V(e,{parse:s}),e}(Date)}Date.now||(Date.now=function(){return(new Date).getTime()});var ye=f.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0)),ve={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(t,e){for(var n=-1,r=e;++n<ve.size;)r+=t*ve.data[n],ve.data[n]=r%ve.base,r=Math.floor(r/ve.base)},divide:function(t){for(var e=ve.size,n=0;--e>=0;)n+=ve.data[e],ve.data[e]=Math.floor(n/t),n=n%t*ve.base},numToString:function(){for(var t=ve.size,e="";--t>=0;)if(""!==e||0===t||0!==ve.data[t]){var n=u(ve.data[t]);""===e?e=n:e+=H("0000000",0,7-n.length)+n}return e},pow:function Ae(t,e,n){return 0===e?n:e%2===1?Ae(t,e-1,n*t):Ae(t*t,e/2,n)},log:function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}},ge=function(t){var e,n,r,i,a,o,s,c;if(e=l(t),e=C(e)?0:Math.floor(e),0>e||e>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(n=l(this),C(n))return"NaN";if(-1e21>=n||n>=1e21)return u(n);if(r="",0>n&&(r="-",n=-n),i="0",n>1e-21)if(a=ve.log(n*ve.pow(2,69,1))-69,o=0>a?n*ve.pow(2,-a,1):n/ve.pow(2,a,1),o*=4503599627370496,a=52-a,a>0){for(ve.multiply(0,o),s=e;s>=7;)ve.multiply(1e7,0),s-=7;for(ve.multiply(ve.pow(10,s,1),0),s=a-1;s>=23;)ve.divide(1<<23),s-=23;ve.divide(1<<s),ve.multiply(1,1),ve.divide(2),i=ve.numToString()}else ve.multiply(0,o),ve.multiply(1<<-a,0),i=ve.numToString()+H("0.00000000000000000000",2,2+e);return e>0?(c=i.length,i=e>=c?r+H("0.0000000000000000000",0,e-c+2)+i:r+H(i,0,c-e)+"."+H(i,c-e)):i=r+i,i};V(f,{toFixed:ge},ye);var me=function(){try{return"1"===1..toPrecision(void 0)}catch(t){return!0}}(),be=f.toPrecision;V(f,{toPrecision:function(t){return"undefined"==typeof t?be.call(this):be.call(this,t)}},me),2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var t="undefined"==typeof/()??/.exec("")[1],n=Math.pow(2,32)-1;c.split=function(r,i){var a=String(this);if("undefined"==typeof r&&0===i)return[];if(!e(r))return W(this,r,i);var o,s,u,c,l=[],f=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(r.sticky?"y":""),p=0,d=new RegExp(r.source,f+"g");t||(o=new RegExp("^"+d.source+"$(?!\\s)",f));var y="undefined"==typeof i?n:L.ToUint32(i);for(s=d.exec(a);s&&(u=s.index+s[0].length,!(u>p&&(K(l,H(a,p,s.index)),!t&&s.length>1&&s[0].replace(o,function(){for(var t=1;t<arguments.length-2;t++)"undefined"==typeof arguments[t]&&(s[t]=void 0)}),s.length>1&&s.index<a.length&&h.apply(l,$(s,1)),c=s[0].length,p=u,l.length>=y)));)d.lastIndex===s.index&&d.lastIndex++,s=d.exec(a);
return p===a.length?(c||!d.test(""))&&K(l,""):K(l,H(a,p)),l.length>y?$(l,0,y):l}}():"0".split(void 0,0).length&&(c.split=function(t,e){return"undefined"==typeof t&&0===e?[]:W(this,t,e)});var we=c.replace,xe=function(){var t=[];return"x".replace(/x(.)?/g,function(e,n){K(t,n)}),1===t.length&&"undefined"==typeof t[0]}();xe||(c.replace=function(n,r){var i=t(r),a=e(n)&&/\)[*?]/.test(n.source);if(i&&a){var o=function(t){var e=arguments.length,i=n.lastIndex;n.lastIndex=0;var a=n.exec(t)||[];return n.lastIndex=i,K(a,arguments[e-2],arguments[e-1]),r.apply(this,a)};return we.call(this,n,o)}return we.call(this,n,r)});var Te=c.substr,Ee="".substr&&"b"!=="0b".substr(-1);V(c,{substr:function(t,e){var n=t;return 0>t&&(n=w(this.length+t,0)),Te.call(this,n,e)}},Ee);var De="	\n\x0B\f\r   ᠎             　\u2028\u2029\ufeff",Se="​",Ie="["+De+"]",_e=new RegExp("^"+Ie+Ie+"*"),Oe=new RegExp(Ie+Ie+"*$"),je=c.trim&&(De.trim()||!Se.trim());V(c,{trim:function(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");return u(this).replace(_e,"").replace(Oe,"")}},je);var ke=m.bind(String.prototype.trim),Pe=c.lastIndexOf&&-1!=="abcあい".lastIndexOf("あい",2);V(c,{lastIndexOf:function(t){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");for(var e=u(this),n=u(t),r=arguments.length>1?l(arguments[1]):NaN,i=C(r)?1/0:L.ToInteger(r),a=x(w(i,0),e.length),o=n.length,s=a+o;s>0;){s=w(0,s-o);var c=G(H(e,s,a+o),n);if(-1!==c)return s+c}return-1}},Pe);var qe=c.lastIndexOf;if(V(c,{lastIndexOf:function(t){return qe.apply(this,arguments)}},1!==c.lastIndexOf.length),(8!==parseInt(De+"08")||22!==parseInt(De+"0x16"))&&(parseInt=function(t){var e=/^[\-+]?0[xX]/;return function(n,r){var i=ke(n),a=l(r)||(e.test(i)?16:10);return t(i,a)}}(parseInt)),1/parseFloat("-0")!==-(1/0)&&(parseFloat=function(t){return function(e){var n=ke(e),r=t(n);return 0===r&&"-"===H(n,0,1)?-0:r}}(parseFloat)),"RangeError: test"!==String(new RangeError("test"))){var Me=function(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");var t=this.name;"undefined"==typeof t?t="Error":"string"!=typeof t&&(t=u(t));var e=this.message;return"undefined"==typeof e?e="":"string"!=typeof e&&(e=u(e)),t?e?t+": "+e:t:e};Error.prototype.toString=Me}if(R){var Ne=function(t,e){if(Z(t,e)){var n=Object.getOwnPropertyDescriptor(t,e);n.configurable&&(n.enumerable=!1,Object.defineProperty(t,e,n))}};Ne(Error.prototype,"message"),""!==Error.prototype.message&&(Error.prototype.message=""),Ne(Error.prototype,"name")}if("/a/gim"!==String(/a/gim)){var Ue=function(){var t="/"+this.source+"/";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),t};RegExp.prototype.toString=Ue}});var __extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};_csa.define("lib/api/videos/Youtube",["require","exports","./base/BaseVideo","../main","../../utils/duration","es5-shim"],function(t,e,n,r,i){"use strict";var a=function(t){function e(e,n){if(t.call(this),this.ready=!0,this.iframe=e,this.cache=e,e.id||(e.id="youtube-"+n),-1===e.src.indexOf("enablejsapi")){var r=-1===e.src.indexOf("?")?"?":"&";e.setAttribute("src",e.src+r+"enablejsapi=1")}this.stopIntervalOnDestroy()}return __extends(e,t),e.prototype.stopIntervalOnDestroy=function(){function t(n){if(n.target.querySelector){var r=n.target,i=r.querySelector("#"+e.iframe.id);(e.iframe===i||e.iframe===r)&&(e.stopInterval(),document.removeEventListener("DOMNodeRemoved",t)),r.querySelector("#"+e.iframe.id)&&e.newPlayer()}}var e=this,n=document.addEventListener?"addEventListener":"attachEvent";document[n]("DOMNodeRemoved",t)},e.prototype.data=function(){var t=this.player.getVideoData();return{title:t.title,videoId:t.video_id,videoUrl:this.player.getVideoUrl(),started:i.duration(0),stopped:i.duration(this.player.getCurrentTime()),duration:i.duration(this.player.getDuration()),service:"YouTube",partial:!0,uuidKey:this.iframe.id,finished:!1}},e.prototype.setupPlayer=function(){var t=this;if(window.YT)YT.ready(function(){t.newPlayer()});else{var e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){e&&e(),t.newPlayer()}}return this},e.prototype.newPlayer=function(){var t=this;return this.player=new YT.Player(this.iframe.id,{events:{onStateChange:this.trackEvents.bind(this),onReady:function(e){t.player=e.target,-1!==t.iframe.src.indexOf("autoplay=1")&&(e.target.pauseVideo(),e.target.playVideo())}}}),this},e.prototype.trackEvents=function(t){switch(this.player.getVideoData||(this.player=t.target),t.data){case YT.PlayerState.PLAYING:this.trackPlay(),this.startInterval();break;case YT.PlayerState.BUFFERING:case YT.PlayerState.PAUSED:this.stopInterval();break;case YT.PlayerState.ENDED:this.trackFinish();break;default:this.stopInterval()}return this},e.prototype.trackPlay=function(){return r.handler("video-play",this.data()),this},e}(n);return a}),_csa.define("lib/api/videos/vimeo/froogaloop",["require","exports"],function(t,e){"use strict";var n=function(){function t(e){return new t.fn.init(e)}function e(t,e,n){if(!n.contentWindow.postMessage)return!1;var r=JSON.stringify({method:t,value:e});n.contentWindow.postMessage(r,c)}function n(t){var e,n;try{e=JSON.parse(t.data),n=e.event||e.method}catch(r){}if("ready"!=n||u||(u=!0),!/^https?:\/\/player.vimeo.com/.test(t.origin))return!1;"*"===c&&(c=t.origin);var a=e.value,o=e.data,s=""===s?null:e.player_id,l=i(n,s),f=[];return l?(void 0!==a&&f.push(a),o&&f.push(o),s&&f.push(s),f.length>0?l.apply(null,f):l.call()):!1}function r(t,e,n){n?(s[n]||(s[n]={}),s[n][t]=e):s[t]=e}function i(t,e){return e?s[e][t]:s[t]}function a(t,e){if(e&&s[e]){if(!s[e][t])return!1;s[e][t]=null}else{if(!s[t])return!1;s[t]=null}return!0}function o(t){return!!(t&&t.constructor&&t.call&&t.apply)}var s={},u=!1,c=(Array.prototype.slice,"*");return t.fn=t.prototype={element:null,init:function(t){return"string"==typeof t&&(t=document.getElementById(t)),this.element=t,this},api:function(t,n){if(!this.element||!t)return!1;var i=this,a=i.element,s=""!==a.id?a.id:null,u=o(n)?null:n,c=o(n)?n:null;return c&&r(t,c,s),e(t,u,a),i},addEvent:function(t,n){if(!this.element)return!1;var i=this,a=i.element,o=""!==a.id?a.id:null;return r(t,n,o),"ready"!=t?e("addEventListener",t,a):"ready"==t&&u&&n.call(null,o),i},removeEvent:function(t){if(!this.element)return!1;var n=this,r=n.element,i=""!==r.id?r.id:null,o=a(t,i);"ready"!=t&&o&&e("removeEventListener",t,r)}},t.fn.init.prototype=t.fn,window.addEventListener?window.addEventListener("message",n,!1):window.attachEvent("onmessage",n),t}();return n});var __extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};_csa.define("lib/api/videos/Vimeo",["require","exports","./base/BaseVideo","../../http/requests/AjaxRequest","./vimeo/froogaloop","../main","../../utils/duration","es5-shim"],function(t,e,n,r,i,a,o){"use strict";var s=function(t){function e(n,r){if(t.call(this),this.videoData={},this.iframe=n,this.cache=n,this.videoId=e.getVideoId(n.src),n.id||(n.id="vimeo-"+r),-1===n.src.indexOf("player_id")){var i=-1===n.src.indexOf("?")?"?":"&";n.setAttribute("src",n.src+i+"player_id="+n.id)}}return __extends(e,t),e.prototype.data=function(){return{title:this.videoData.title,videoId:this.videoData.id,videoUrl:this.videoData.url,started:o.duration(0),stopped:o.duration(this.videoData.currentTime),duration:o.duration(this.videoData.duration),service:"Vimeo",partial:!0,uuidKey:this.iframe.id,finished:!1}},e.prototype.loadVideoData=function(){var t=this,e=function(e,n){t.videoData=n[0]};window._csa=window._csa||{},_csa.callbacks=_csa.callbacks||{};var n=Object.keys(_csa.callbacks).length,i="_"+(n+1);_csa.callbacks[i]=function(t){e&&e(null,t),delete _csa.callbacks[i]},r.jsonp("https://vimeo.com/api/v2/video/"+this.videoId+".json","_csa.callbacks."+i)},e.prototype.setupPlayer=function(){var t=this;return this.loadVideoData(),this.player=i(this.iframe),this.player.addEvent("ready",function(){t.player.addEvent("play",t.trackPlayCb.bind(t)),t.player.addEvent("pause",t.trackPause.bind(t)),t.player.addEvent("playProgress",t.trackProgress.bind(t)),t.player.addEvent("finish",t.trackFinish.bind(t))}),this},e.prototype.trackPlayCb=function(){return this.trackPlay(),this.startInterval(),this},e.prototype.trackPlay=function(){return a.handler("video-play",this.data()),this},e.prototype.trackPause=function(){return this.stopInterval(),this},e.prototype.trackProgress=function(t){return this.videoData.currentTime=t.seconds,this},e.getVideoId=function(t){var e=/(videos|video|channels|\.com)\/([\d]+)/;return t.match(e)[2]},e}(n);return s});var __extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};_csa.define("lib/api/videos/Wistia",["require","exports","./base/BaseVideo","../main","../../utils/duration","es5-shim"],function(t,e,n,r,i){"use strict";var a=function(t){function e(e){t.call(this),this.api=e,this.cache=e.uuid}return __extends(e,t),e.prototype.data=function(){return{title:this.api.name(),videoId:this.api.hashedId(),videoUrl:this.api.src||this.api.data.asset.url,started:i.duration(0),stopped:i.duration(this.api.time()),duration:i.duration(this.api.duration()),service:"Wistia",uuidKey:this.cache,finished:!1,partial:!0}},e.prototype.setupPlayer=function(){var t=this;if(window.Wistia)this.newPlayer();else{var e=window.wistiaEmbedShepherdReady;window.wistiaEmbedShepherdReady=function(){e&&e(),t.newPlayer()}}return this},e.prototype.newPlayer=function(){return this.api.bind("play",this.trackPlayCb.bind(this)),this.api.bind("pause",this.trackPause.bind(this)),this.api.bind("end",this.trackFinish.bind(this)),this},e.prototype.trackPlayCb=function(){return this.trackPlay(),this.startInterval(),this},e.prototype.trackPlay=function(){return r.handler("video-play",this.data()),this},e.prototype.trackPause=function(){return this.stopInterval(),this},e}(n);return a}),_csa.define("lib/utils/addEvent",["require","exports"],function(t,e){"use strict";function n(t,e,n){var r=document.addEventListener?"addEventListener":"attachEvent",i="attachEvent"===r?"on"+e:e;t[r](i,n)}e.addEvent=n}),_csa.define("lib/api/Videos",["require","exports","./videos/Youtube","./videos/Vimeo","./videos/Wistia","../utils/helpers","../utils/addEvent"],function(t,e,n,r,i,a,o){"use strict";var s=function(){function t(){}return t.init=function(){function e(){var t=document.readyState;return"complete"===t||"loaded"===t||"interactive"===t}window.YT||t.__loadYoutubeApi(),window.Wistia||t.__loadWistiaApi(),e()?t.__initVideos():document.onreadystatechange=function(){e()&&t.__initVideos()},o.addEvent(window,"click",t.__initVideos),t.poll()},t.__loadYoutubeApi=function(t){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n),e.onload=t},t.__loadWistiaApi=function(t){var e=document.createElement("script");e.src="//fast.wistia.net/assets/external/E-v1.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n),e.onload=t},t.__initVideos=function(){for(var e=document.getElementsByTagName("iframe"),a=0;a<e.length;a++)if(-1===t.cache.indexOf(e[a])){var o=t.isYoutubeUrl(e[a].src),s=t.isVimeoUrl(e[a].src),u=t.isWistiaUrl(e[a].src);if(o){var c=new n(e[a],a);t.allVideos.push(c),-1!==e[a].src.indexOf("enablejsapi=1")&&c.setupPlayer()}else if(s){var l=new r(e[a],a);l.setupPlayer(),t.allVideos.push(l)}else u&&(e[a].classList.contains("wistia_embed")||e[a].classList.add("wistia_embed"))}if(window.wistiaEmbeds)for(var a=0;a<window.wistiaEmbeds.length;a++){var f=window.wistiaEmbeds[a];if(-1===t.cache.indexOf(f.uuid)){var p=new i(f);p.setupPlayer(),t.allVideos.push(p)}}t.cacheVideos()},t.cacheVideos=function(){t.cache=t.allVideos.map(function(t){return t.cache})},t.isYoutubeUrl=function(e){var n=a.getHostName(e);return t.youtubeHosts[n]},t.isVimeoUrl=function(e){var n=a.getHostName(e);return t.vimeoHosts[n]},t.isWistiaUrl=function(e){var n=a.getHostName(e);return t.wistiaHosts[n]},t.poll=function(){setInterval(function(){t.__initVideos()},200)},t.vimeoHosts={"player.vimeo.com":!0,"vimeo.com":!0},t.youtubeHosts={"youtube.com":!0,"youtu.be":!0,"www.youtube.com":!0},t.wistiaHosts={"fast.wistia.net":!0},t.allVideos=[],t.cache=[],t.cb=function(){},t}();return s}),_csa.define("lib/utils/validator",["require","exports"],function(t,e){"use strict";function n(t){var e="[^\\x0d\\x22\\x5c\\x80-\\xff]",n="[^\\x0d\\x5b-\\x5d\\x80-\\xff]",r="[^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+",i="\\x5c[\\x00-\\x7f]",a="\\x5b("+n+"|"+i+")*\\x5d",o="\\x22("+e+"|"+i+")*\\x22",s="("+r+"|"+a+")",u="("+r+"|"+o+")",c=s+"(\\x2e"+s+")*",l=u+"(\\x2e"+u+")*",f=l+"\\x40"+c,p="^"+f+"$",d=new RegExp(p);return d.test(t)}e.isEmail=n}),_csa.define("lib/api/forms/determine",["require","exports","../../utils/validator"],function(t,e,n){"use strict";var r=function(){function t(){this.data={},this.phoneRegex=/\b(?:phone|phonenumber)\b/i,this.emailRegex=/\b(?:email|emailaddress)\b/i,this.zipRegex=/\b(?:zip|zipcode|postalcode)\b/i,this.firstNameRegex=/\b(?:first(?:[ _\-]?name)?|fname)\b/i,this.lastNameRegex=/\b(?:last(?:[ _\-]?name)?|lname)\b/i,this.fullNameRegex=/\b(?:full(?:[ _\-]?name)?|name)\b/i}return t.prototype.setInput=function(t){this.input=t},t.prototype.run=function(){this.ifEmail(),this.ifFirstName(),this.ifLastName(),this.ifFullName(),this.ifPhone(),this.ifZip()},t.prototype.nameOrPlaceholderMatches=function(t){return t.test(this.input.name)||t.test(this.input.placeholder)},t.prototype.ifPhone=function(){if(!this.input.value)return this.data;this.nameOrPlaceholderMatches(this.phoneRegex)&&this.input.value&&(this.data.phone=this.input.value);var t=this.input.value;return t=t.replace(/-/g,"").replace("(","").replace(")","").replace(".",""),"1"===t.charAt(0)&&(t=t.substr(1)),parseInt(t)&&10===t.length?(this.data.phone=this.input.value,this.data):this.data},t.prototype.ifEmail=function(){return this.input.value?(("email"===this.input.type||this.nameOrPlaceholderMatches(this.emailRegex)||n.isEmail(this.input.value))&&(this.data.email=this.input.value),this.data):this.data},t.prototype.ifZip=function(){return this.input.value?this.nameOrPlaceholderMatches(this.zipRegex)?(this.data.zip=this.input.value,this.data):parseInt(this.input.value)&&5===this.input.value.length?(this.data.zip=this.input.value,this.data):this.data:this.data},t.prototype.ifFirstName=function(){return this.input.value?(this.nameOrPlaceholderMatches(this.firstNameRegex)&&(this.data.first=this.input.value),this.data):this.data},t.prototype.ifLastName=function(){return this.input.value?(this.nameOrPlaceholderMatches(this.lastNameRegex)&&(this.data.last=this.input.value),this.data):this.data},t.prototype.ifFullName=function(){return this.input.value?(this.nameOrPlaceholderMatches(this.fullNameRegex)?this.data.fullname=this.input.value:this.data.first&&this.data.last&&(this.data.fullname=this.data.first+" "+this.data.last),this.data):this.data},t.prototype.hasData=function(){return Object.keys(this.data).length?!0:!1},t}();return r}),_csa.define("lib/api/Forms",["require","exports","./forms/determine","./main"],function(t,e,n,r){"use strict";var i=function(){function t(){}return t.interceptSubmits=function(){this.interceptSubmit(document);for(var t=document.getElementsByTagName("form"),e=0;e<t.length;e++)this.interceptSubmit(t[e])},t.interceptSubmit=function(e){var n=document.addEventListener?"addEventListener":"attachEvent";e[n]("submit",function(e){if("true"===e.target.getAttribute("data-cs-submitting")||"true"===e.target.getAttribute("data-cs")||"true"===e.target.dataset.cs||-1!==e.target.outerHTML.indexOf("search"))return e.defaultPrevented;var n=e.defaultPrevented;return e.preventDefault(),e.returnValue=!1,t.sendDataIfAny(e.target,function(){n||(e.target.setAttribute("data-cs-submitting","true"),e.target.submit(),e.target.setAttribute("data-cs-submitting","false"))}),e.defaultPrevented})},t.sendDataIfAny=function(t,e){for(var i=t.getElementsByTagName("input"),a=new n,o=0;o<i.length;o++)a.setInput(i[o]),a.run();var s=t.getAttribute("data-cs-tpf-cache");!a.hasData()||s&&s===JSON.stringify(a.data)?e():(r.handler("third-party-form",{fields:a.data},e),t.setAttribute("data-cs-tpf-cache",JSON.stringify(a.data)))},t}();return i}),_csa.define("lib/api/Analytics",["require","exports","../../config","./main","./Attributes","./Videos","./Forms"],function(t,e,n,r,i,a,o){"use strict";var s=function(){function t(){this.queue=[],this.processed=!1,this.queue=window.cs.q}return t.prototype.setup=function(){return this.loadSkoutJS(this.skoutJsLoaded.bind(this)),this.initAttributes(),this.initForms(),this.initVideos(),this},t.prototype.loadSkoutJS=function(t){var e=document.createElement("script");e.src=n.apiUrl+n.skoutjs,e.onerror=e.onload=t,e.onreadystatechange=function(){("loaded"===this.readyState||"complete"===this.readyState)&&t()};var r=document.getElementsByTagName("head")[0];return r.appendChild(e),this},t.prototype.skoutJsLoaded=function(e){return e&&"error"===e.type?console.warn("There was a problem loading skout.gif"):(this.setCs(),t._csInit(),void this.processQueue())},t.prototype.processQueue=function(){if(!this.processed){var t=[],e=[];return this.queue.forEach(function(n){var r="set"===n[0]?t:e;r.push(n)}),this._process(t),this._process(e),this.processed=!0,this}},t._csInit=function(){window._csAnalyticsInit&&window._csAnalyticsInit()},t.prototype._process=function(t){t.forEach(function(t){r.handler.apply(null,t)})},t.prototype.setCs=function(){return window.cs=r.handler,window.cs.loaded=!0,this},t.prototype.initAttributes=function(){return i.addListeners(),this},t.prototype.initVideos=function(){return a.init(),this},t.prototype.initForms=function(){return o.interceptSubmits(),this},t}();return s}),_csa.requirejs.config({paths:{"es5-shim":"../../node_modules/es5-shim/es5-shim"}}),_csa.require(["./lib/api/Analytics"],function(t){window.cs&&window.cs.loaded||(new t).setup()}),_csa.define("bootstrap",function(){});